(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{24:function(t,e,a){},33:function(t,e,a){},37:function(t,e,a){},38:function(t,e,a){},39:function(t,e,a){},40:function(t,e,a){},41:function(t,e,a){},42:function(t,e,a){},45:function(t,e,a){"use strict";a.r(e);var c=a(1),n=a.n(c),s=(a(24),a(10)),r=a(11),i=a.n(r),u=a(21),l=a(3),o=(a(33),s.c),b=s.b,j=a(4),d=a(6),O=Object(d.b)({name:"actaulUser",initialState:{actualUser:null},reducers:{setActualUser:function(t,e){return Object(j.a)(Object(j.a)({},t),{},{actualUser:e.payload})}}}),m=O.reducer,f=O.actions,h=a(0),p=function(){var t=Object(c.useState)(""),e=Object(l.a)(t,2),a=e[0],n=e[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),i=r[0],u=r[1],o=b();return Object(h.jsxs)("div",{className:"registerNewUser",children:[Object(h.jsx)("div",{children:"Sign up new player!"}),Object(h.jsx)("input",{type:"text",className:"input",placeholder:"Enter your name",minLength:4,value:a,onChange:function(t){n(t.target.value),u("")}}),Object(h.jsx)("button",{type:"button",className:"button is-primary",onClick:function(){return a.length<4?u("Your name have less than 4 characters!"):o(f.setActualUser({userName:a,money:100}))},children:"Sign up"}),i&&Object(h.jsx)("div",{className:"notification is-warning registerNewUser__notification",children:i})]})},_=a(7),x=(a(37),a(38),function(){return Object(h.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(h.jsx)("div",{className:"Loader__content"})})}),g=(a(39),Object(d.b)({name:"actaulBet",initialState:{actualBet:1},reducers:{setActualBet:function(t,e){return Object(j.a)(Object(j.a)({},t),{},{actualBet:e.payload})}}})),v=g.reducer,N=g.actions,B=function(){var t=o((function(t){return t.startedGame})).startedGame,e=o((function(t){return t.actualBet})).actualBet,a=o((function(t){return t.actualBalance})).actualBalance,c=b(),n=function(t){return t<e?c(N.setActualBet(e-t)):null};return Object(h.jsx)("div",{className:"bets",children:Object(h.jsxs)("div",{className:"bets__bet",children:[Object(h.jsx)("p",{className:"bets__startBet",children:"Your bet is $".concat(e)}),Object(h.jsx)("p",{className:"bets__startBet",children:"My balance is $".concat(a)}),t&&Object(h.jsxs)("div",{className:"bets__chips",children:[Object(h.jsx)("button",{type:"button",className:"bets__chip bets__chip--1",onClick:function(){a>=1&&a>=e+1&&c(N.setActualBet(e+1))},onContextMenu:function(t){t.preventDefault(),n(1)}}),Object(h.jsx)("button",{type:"button",className:"bets__chip bets__chip--10",onClick:function(){a>=10&&a>=e+10&&c(N.setActualBet(e+10))},onContextMenu:function(t){t.preventDefault(),n(10)}}),Object(h.jsx)("button",{type:"button",className:"bets__chip bets__chip--100",onClick:function(){a>=100&&a>=e+100&&c(N.setActualBet(e+100))},onContextMenu:function(t){t.preventDefault(),n(100)}}),Object(h.jsx)("button",{type:"button",className:"bets__chip bets__chip--500",onClick:function(){a>=500&&a>=e+500&&c(N.setActualBet(e+500))},onContextMenu:function(t){t.preventDefault(),n(500)}})]})]})})},y=(a(40),function(t){var e=t.cards,a=t.sum;return Object(h.jsxs)("div",{className:"dealerCards",children:[Object(h.jsxs)("div",{className:"dealerCards__text",children:[Object(h.jsx)("h3",{children:"Dealer cards"}),Object(h.jsx)("p",{children:a})]}),Object(h.jsx)("div",{className:"dealerCards__cards",children:e.map((function(t){return Object(h.jsx)("img",{src:"./images/cards/".concat(t,".png"),alt:"firstCard",className:"dealerCards__card"},t)}))})]})}),C=(a(41),function(t){var e=t.cards,a=t.sum;return Object(h.jsxs)("div",{className:"myCards",children:[Object(h.jsxs)("div",{className:"myCards__text",children:[Object(h.jsx)("h3",{children:"My cards"}),Object(h.jsx)("p",{children:a})]}),Object(h.jsx)("div",{className:"myCards__cards",children:e.map((function(t){return Object(h.jsx)("img",{src:"./images/cards/".concat(t,".png"),alt:"card",className:"myCards__card"},t)}))})]})}),S=Object(d.b)({name:"startedGame",initialState:{startedGame:!1},reducers:{setStartedGame:function(t,e){return Object(j.a)(Object(j.a)({},t),{},{startedGame:e.payload})}}}),k=S.reducer,A=S.actions,P=Object(d.b)({name:"actaulBalance",initialState:{actualBalance:100},reducers:{setActualBalance:function(t,e){return Object(j.a)(Object(j.a)({},t),{},{actualBalance:e.payload})}}}),G=P.reducer,w=P.actions,U=function(){var t=Object(c.useState)(!1),e=Object(l.a)(t,2),a=e[0],n=e[1],s=o((function(t){return t.startedGame})).startedGame,r=b(),i=Object(c.useState)([]),u=Object(l.a)(i,2),j=u[0],d=u[1],O=Object(c.useState)([]),m=Object(l.a)(O,2),f=m[0],p=m[1],g=Object(c.useState)(0),v=Object(l.a)(g,2),S=v[0],k=v[1],P=Object(c.useState)(0),G=Object(l.a)(P,2),U=G[0],M=G[1],D=Object(c.useState)(!1),E=Object(l.a)(D,2),J=E[0],K=E[1],Y=Object(c.useState)(!1),L=Object(l.a)(Y,2),F=L[0],H=L[1],Q=Object(c.useState)(!1),$=Object(l.a)(Q,2),z=$[0],I=$[1],T=Object(c.useState)(!1),q=Object(l.a)(T,2),R=q[0],V=q[1],W=Object(c.useState)(!1),X=Object(l.a)(W,2),Z=X[0],tt=X[1],et=Object(c.useState)([]),at=Object(l.a)(et,2),ct=at[0],nt=at[1],st=Object(c.useState)(""),rt=Object(l.a)(st,2),it=rt[0],ut=rt[1],lt=o((function(t){return t.actualBalance})).actualBalance,ot=o((function(t){return t.actualBet})).actualBet,bt=function(t){for(var e=0,a=0;a<t.length;a+=1){var c=t[a].split("-")[0];e+="BACK"===c?0:"A"===c?11:"K"===c||"J"===c||"Q"===c?10:+c}return e},jt=function(){var t=Object(_.a)(j);t.shift(),d([it].concat(Object(_.a)(t))),M(U+bt([it]))},dt=function(){for(var t,e=Object(_.a)(ct),a=U,c=[];a<17;){var n=ct.pop()||"";a+=bt([n]),c.push(n)}d([].concat(Object(_.a)(j),c)),nt(e),M(a),(t=a)<S||t>21?I(!0):t===S?V(!0):H(!0)};Object(c.useEffect)((function(){J&&S<=21&&dt()}),[J]);var Ot=function(){var t=[],e=["A","2","3","4","5","6","7","8","9","10","J","Q","K"];["C","D","H","S"].forEach((function(a){e.forEach((function(e){t.push("".concat(e,"-").concat(a))}))})),function(t){var e=Object(_.a)(t),a=[],c=e.pop()||"",n=["BACK"],s=e.pop()||"";n.push(s);for(var r=0;r<2;r+=1){var i=e.pop()||"";a.push(i)}p(a),d(n),nt(e),ut(c),k(bt(a)),M(bt(n)),21===bt(a)&&(tt(!0),I(!0))}(t.sort((function(){return Math.random()-.5})))};return Object(c.useEffect)((function(){n(!0),r(A.setStartedGame(!0)),setTimeout((function(){n(!1)}),1e3)}),[]),a?Object(h.jsx)(x,{}):Object(h.jsxs)(h.Fragment,{children:[F&&Object(h.jsxs)("div",{className:"gamePage__notification notification is-warning",children:["You lost!",Object(h.jsx)("button",{type:"button",className:"gamePage__button button is-success is-medium",onClick:function(){H(!1),K(!1),r(N.setActualBet(1)),r(A.setStartedGame(!0)),0===lt&&r(w.setActualBalance(10))},children:"New game"})]}),R&&Object(h.jsxs)("div",{className:"gamePage__notification notification is-success",children:["Push!",Object(h.jsx)("button",{type:"button",className:"gamePage__button button is-info",onClick:function(){V(!1),K(!1),r(N.setActualBet(1)),r(w.setActualBalance(lt+ot)),r(A.setStartedGame(!0))},children:"New game"})]}),z&&Object(h.jsxs)("div",{className:"gamePage__notification notification is-success",children:[Z&&Object(h.jsx)("p",{children:"Black Jack!!!"}),Object(h.jsx)("p",{children:"You win!"}),Object(h.jsx)("button",{type:"button",className:"gamePage__button button is-info",onClick:function(){K(!1),r(N.setActualBet(1)),r(w.setActualBalance(lt+2*ot)),r(A.setStartedGame(!0)),I(!1),tt(!1)},children:"New game"})]}),Object(h.jsxs)("div",{className:"gamePage",children:[Object(h.jsx)("h1",{className:"gamePage__title",children:"Black Jack"}),!s&&Object(h.jsxs)("div",{className:"gamePage__cards",children:[Object(h.jsx)(y,{cards:j,sum:U}),Object(h.jsx)(C,{cards:f,sum:S})]}),Object(h.jsx)("div",{className:"gamePage__buttons",children:s?Object(h.jsxs)("div",{className:"gamePage__deal",children:[Object(h.jsx)("button",{type:"button",className:"gamePage__button button is-success is-medium",onClick:function(){r(A.setStartedGame(!1)),r(w.setActualBalance(lt-ot)),Ot()},children:"Deal"}),Object(h.jsx)("p",{className:"gamePage__text",children:"Place your bet"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{type:"button",className:"gamePage__button button is-success is-medium",disabled:J||Z,onClick:function(){return function(){var t=Object(_.a)(ct),e=t.pop()||"";p([].concat(Object(_.a)(f),[e])),nt(t),k(S+bt([e])),S+bt([e])>21&&(K(!0),jt(),H(!0)),S+bt([e])===21&&(K(!0),jt())}()},children:"Hit"}),Object(h.jsx)("button",{type:"button",className:"gamePage__button button is-warning is-medium",onClick:function(){K(!0),jt()},disabled:J||Z,children:"Stand"})]})}),Object(h.jsx)(B,{})]})]})},M=(a(42),function(){var t=o((function(t){return t.actualUser})).actualUser;return Object(h.jsx)("div",{className:"app",children:t?Object(h.jsx)(U,{}):Object(h.jsx)(p,{})})}),D=a(5),E=a(8),J=a(22),K=a.n(J),Y=Object(D.b)({actualUser:m,startedGame:k,actualBalance:G,actualBet:v}),L={key:"root",storage:K.a},F=Object(E.g)(L,Y),H=Object(d.a)({reducer:F,middleware:function(t){return t({serializableCheck:{ignoredActions:[E.a,E.f,E.b,E.c,E.d,E.e]}})}}),Q=Object(E.h)(H),$=H;i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(s.a,{store:$,children:Object(h.jsx)(u.a,{loading:null,persistor:Q,children:Object(h.jsx)(M,{})})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.faaf02df.chunk.js.map